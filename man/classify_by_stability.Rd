% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/classify_by_stability.R
\name{classify_by_stability}
\alias{classify_by_stability}
\title{Classify Movement States Based on Stability Analysis}
\usage{
classify_by_stability(
  speed,
  window_size = 30,
  min_stable_period = 30,
  tolerance = 0.1,
  refine_transitions = TRUE,
  min_low_state_duration = 0,
  min_high_state_duration = 0,
  search_window = 90,
  stability_window = 10,
  stability_threshold = 0.5
)
}
\arguments{
\item{speed}{Numeric vector of speed or velocity measurements. If velocity is provided,
absolute values will be used automatically}

\item{window_size}{Number of measurements to consider when calculating variance (default: 30)}

\item{min_stable_period}{Minimum length required for a stable period (default: 30)}

\item{tolerance}{Tolerance for variance in stable periods (default: 0.1, must be between 0 and 1)}

\item{refine_transitions}{Whether to refine state transitions using stability detection (default: TRUE)}

\item{min_low_state_duration}{Minimum duration for low activity states; shorter periods are merged
using majority context (default: 0, no merging)}

\item{min_high_state_duration}{Minimum duration for high activity states; shorter periods are merged
using majority context (default: 0, no merging)}

\item{search_window}{How far to look for movement transitions when refining (default: 90)}

\item{stability_window}{Window size for checking if movement has stabilized (default: 10)}

\item{stability_threshold}{Maximum variance allowed in stable state (default: 0.5)}
}
\value{
Numeric vector of the same length as input:
\itemize{
\item 1: High activity state
\item 0: Low activity state
\item NA: Unable to classify (usually due to missing data)
}
}
\description{
This function analyzes movement tracking data to identify periods of high and low
activity by detecting stable periods in the movement data. It returns a binary
classification where 1 indicates high activity and 0 indicates low activity.
}
\details{
The classification process follows these key steps:
\enumerate{
\item Stability Detection:
\itemize{
\item Identifies stable periods in the movement data
\item Uses the longest stable period to establish a baseline for low activity
}
\item State Classification:
\itemize{
\item Sets an activity threshold based on the baseline period
\item Classifies periods that deviate from baseline stability as high activity
}
\item Optional Refinement:
\itemize{
\item If refine_transitions = TRUE, examines transitions between states to
find precise start/end points using stability detection
\item Short duration states can be filtered based on min_low_state_duration
and min_high_state_duration parameters using a majority context approach
}
}
}
