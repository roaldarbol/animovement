% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/classify_by_threshold.R
\name{classify_by_threshold}
\alias{classify_by_threshold}
\title{Classify Values Into Sequences with Minimum Run Length Constraints}
\usage{
classify_by_threshold(
  values,
  threshold,
  min_low_frames,
  min_high_frames,
  return_type = c("numeric", "factor")
)
}
\arguments{
\item{values}{Numeric vector to be classified}

\item{threshold}{Numeric value used as classification boundary between "high" and "low"}

\item{min_low_frames}{Minimum number of consecutive frames required for a "low" sequence}

\item{min_high_frames}{Minimum number of consecutive frames required for a "high" sequence}

\item{return_type}{Should the function return "factor" ("high"/"low") or "numeric" (1/0) (default: "numeric")}
}
\value{
Character vector of same length as input, with values classified as either
"high" or "low". NA values in input remain NA in output.
}
\description{
Classifies numeric values into "high" and "low" categories based on a threshold,
while enforcing minimum run lengths for both categories. Values exceeding the
threshold are classified as "high", others as "low". Short runs that don't meet
the minimum length requirement are reclassified into the opposite category.
}
\details{
The classification process occurs in two steps:
\enumerate{
\item Initial classification based on threshold
\item Reclassification of sequences that don't meet minimum length requirements
}

The function first processes "low" sequences, then "high" sequences. This order
can affect the final classification when there are competing minimum length
requirements.
}
\examples{
# Basic usage
values <- c(1, 1.5, 2.8, 3.2, 3.0, 2.9, 1.2, 1.1)
result <- classify_by_threshold_with_min_runs(values,
                                             threshold = 2.5,
                                             min_low_frames = 2,
                                             min_high_frames = 3)

# Handling NAs
values_with_na <- c(1, NA, 3, 3.2, NA, 1.2)
result <- classify_by_threshold_with_min_runs(values_with_na,
                                             threshold = 2.5,
                                             min_low_frames = 2,
                                             min_high_frames = 2)

}
