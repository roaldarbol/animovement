% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smooth_movement.R
\name{smooth_movement}
\alias{smooth_movement}
\title{Smooth Movement Data}
\usage{
smooth_movement(
  data,
  method = c("rolling_median"),
  window_width = 5,
  min_obs = 1,
  use_derivatives = FALSE
)
}
\arguments{
\item{data}{A data frame containing movement tracking data with the following
required columns:
\itemize{
\item \code{individual}: Identifier for each tracked subject
\item \code{keypoint}: Identifier for each tracked point
\item \code{x}: x-coordinates
\item \code{y}: y-coordinates
\item \code{time}: Time values
}}

\item{method}{Character string specifying the smoothing method. Options:
\itemize{
\item \code{"rolling_median"}: Rolling median filter (default)
\item \code{"rolling_mean"}: Rolling mean filter
}}

\item{window_width}{Integer specifying how many observations to include in the
rolling window (default: 5)}

\item{min_obs}{Integer specifying the minimum number of non-NA values required
to calculate the rolling statistics (default: 1)}

\item{use_derivatives}{Logical. If TRUE, smoothing is applied to frame-to-frame
differences rather than positions directly. Useful for trackball data. (default: FALSE)}
}
\value{
A data frame with the same structure as the input, but with smoothed
x and y coordinates.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

Applies smoothing filters to movement tracking data to reduce noise. The function
supports different smoothing methods and can operate on either positions directly
or their derivatives (frame-to-frame differences).
}
\details{
The function first validates the input data structure using \code{ensure_output_header_names()}
and \code{ensure_output_header_class()}. It then applies the selected smoothing method
separately to each individual and keypoint combination.

When \code{use_derivatives = TRUE}, the function calls \code{smooth_derivatives()} which
applies smoothing to the differences between consecutive positions before
reconstructing the smoothed trajectory.
}
\examples{
\dontrun{
# Apply default rolling median smoothing
smooth_movement(tracking_data, window_width = 5)

# Use rolling mean with a larger window
smooth_movement(tracking_data, method = "rolling_mean", window_width = 7)

# Smooth derivatives instead of positions
smooth_movement(tracking_data, use_derivatives = TRUE)
}

}
\seealso{
\itemize{
\item \code{smooth_derivatives()} for details on derivative-based smoothing
\item \code{ensure_output_header_names()} and \code{ensure_output_header_class()} for data validation
}
}
