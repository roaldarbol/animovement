<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analyse single trial • trackballr</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analyse single trial">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">trackballr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Analyse-Single-Trial.html">Analyse single trial</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav"></ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Analyse single trial</h1>
            
      

      <div class="d-none name"><code>Analyse-Single-Trial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h2>
<p>Working with trackball data is simple, and generally follows the same
principles as other movement data sets (e.g. pose estimation, centroid
tracking):</p>
<ul>
<li><a href="#read-data">Read data</a></li>
<li><a href="#data-cleaning">Clean data</a></li>
<li><a href="#compute-kinematics">Compute kinematics</a></li>
<li><a href="#visualise">Visualise kinematics</a></li>
<li><a href="#movement-stats">Compute movement statistics</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="read-data">Read data<a class="anchor" aria-label="anchor" href="#read-data"></a>
</h2>
<p>The primary functionality of the {trackballr} package is to read
trackball data. The <code>read_trackball_data</code> function requires
two file paths one for each sensor. You can find pairs with variations
of <code><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files()</a></code> and for loops. We’ve included two files as
example data in the package from an experiment that used the free
configuration:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.roald-arboel.com/trackballr/">trackballr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'trackballr'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     mode</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"trackballr"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "opticalflow_sensor_1.csv" "opticalflow_sensor_2.csv"</span></span>
<span><span class="va">filepaths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"trackballr"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span>full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Once we have two paths, we can read the data.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_trackball_data.html">read_trackball_data</a></span><span class="op">(</span><span class="va">filepaths</span>, configuration <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span></span>
<span><span class="co">#&gt; New names:</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> `0` -&gt; `0...1`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> `0` -&gt; `0...2`</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">•</span> `0` -&gt; `0...5`</span></span></code></pre></div>
<p>Let’s have a look at the data. We see that there is an <code>x</code>
and <code>y</code> column, one reading per sensor. Since the sensors do
not capture data at the exact same moments, <em>trackballr</em> finds
the best alignment of the observations and retains time stamps for both
sensors in two formats (we would recommend just using one of the time
stamps for further analysis, but it’s a good idea to check how closely
the frames align).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 36,556</span></span>
<span><span class="co">#&gt; Columns: 6</span></span>
<span><span class="co">#&gt; $ x          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 2, 3, 1, 0, 1, 5, 4, 6, 8, 10, 6, 6, 7, 5, 4, 4, 7, 10, …</span></span>
<span><span class="co">#&gt; $ y          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6, 5, 6, 2, 0, 7, 15, 0, 23, 28, 19, 15, 6, 8, 5, 4, 1, 2, …</span></span>
<span><span class="co">#&gt; $ time_x     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1684527395, 1684544035, 1684560675, 1684577315, 1684593955,…</span></span>
<span><span class="co">#&gt; $ time_y     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1681034035, 1681050675, 1681067315, 1681083955, 1681100595,…</span></span>
<span><span class="co">#&gt; $ datetime_x <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2023-09-14 14:37:55, 2023-09-14 14:37:56, 2023-09-14 14:37…</span></span>
<span><span class="co">#&gt; $ datetime_y <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2023-09-14 14:37:55, 2023-09-14 14:37:55, 2023-09-14 14:37…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-cleaning">Data cleaning<a class="anchor" aria-label="anchor" href="#data-cleaning"></a>
</h2>
<p>In the current implementation, we assume that the sensors are
reliable (no missing observations), so there is no need to impute
missing values. Normally, we would also smooth the data in this step,
but in the current implementation that happens in <a href="#compute-kinematics">the next step</a> once we have computed the
position in 2D space.</p>
</div>
<div class="section level2">
<h2 id="compute-kinematics">Compute kinematics<a class="anchor" aria-label="anchor" href="#compute-kinematics"></a>
</h2>
<p>When we work with movement data, we are often interested in more than
just where an animal <em>is</em>; we’re interested in how fast it moves,
where it is heading etc. <code>augment_trackball</code> computes a range
of kinematic variables:</p>
<ul>
<li>
<code>cum_x</code>/<code>cum_y</code>: Cumulative position in a 2D
space (where they “are” on a map)</li>
<li>
<code>distance</code>: The distance the animal moved since the last
observation (simply calculated using Pythagoras’ theorem)</li>
<li>
<code>v_translation</code>: The translational velocity, like what
you see on a speedometer in a car.</li>
<li>
<code>direction</code>: The direction (in radians) the animal is
heading - where the arrow on the compas is heading.</li>
<li>
<code>rotation</code>: The amount (in radians) the animal has
rotated since the last observation.</li>
<li>
<code>v_rotation</code>: The rotational velocity (in rad/s).</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Augment all data in list</span></span>
<span><span class="va">data_augmented</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/augment_trackball.html">augment_trackball</a></span><span class="op">(</span></span>
<span>    <span class="va">data</span>, </span>
<span>    <span class="va">x</span>, </span>
<span>    <span class="va">y</span>, </span>
<span>    sampling_rate <span class="op">=</span> <span class="fl">60</span>,</span>
<span>    rollmean_k <span class="op">=</span> <span class="fl">30</span>,</span>
<span>    mouse_dpcm <span class="op">=</span> <span class="fl">394</span></span>
<span>    <span class="op">)</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">data_augmented</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 36,556</span></span>
<span><span class="co">#&gt; Columns: 15</span></span>
<span><span class="co">#&gt; $ x             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.0000…</span></span>
<span><span class="co">#&gt; $ y             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.0000…</span></span>
<span><span class="co">#&gt; $ time_x        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1684527395, 1684544035, 1684560675, 1684577315, 16845939…</span></span>
<span><span class="co">#&gt; $ time_y        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1681034035, 1681050675, 1681067315, 1681083955, 16811005…</span></span>
<span><span class="co">#&gt; $ datetime_x    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2023-09-14 14:37:55, 2023-09-14 14:37:56, 2023-09-14 14…</span></span>
<span><span class="co">#&gt; $ datetime_y    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2023-09-14 14:37:55, 2023-09-14 14:37:55, 2023-09-14 14…</span></span>
<span><span class="co">#&gt; $ row           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…</span></span>
<span><span class="co">#&gt; $ time          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.01666667, 0.03333333, 0.05000000, 0.06666667, 0.083333…</span></span>
<span><span class="co">#&gt; $ cum_x         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.0000…</span></span>
<span><span class="co">#&gt; $ cum_y         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.…</span></span>
<span><span class="co">#&gt; $ distance      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ v_translation <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ direction     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ rotation      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span>
<span><span class="co">#&gt; $ v_rotation    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="visualise">Visualise kinematics<a class="anchor" aria-label="anchor" href="#visualise"></a>
</h2>
<p>We can now visualise the movements and kinematics. Let’s first have a
look at the path.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://grantmcdermott.com/tinyplot/" class="external-link">tinyplot</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/tinyplot/man/tinyplot.html" class="external-link">tinyplot</a></span><span class="op">(</span><span class="va">cum_x</span> <span class="op">~</span> <span class="va">cum_y</span>, </span>
<span>         type <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>         data <span class="op">=</span> <span class="va">data_augmented</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>         ylab <span class="op">=</span> <span class="st">"y"</span></span>
<span>         <span class="op">)</span></span></code></pre></div>
<p><img src="Analyse-Single-Trial_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>Or the translational velocity:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/tinyplot/man/tinyplot.html" class="external-link">tinyplot</a></span><span class="op">(</span><span class="va">v_translation</span> <span class="op">~</span> <span class="va">time</span>, </span>
<span>         type <span class="op">=</span> <span class="st">"l"</span>,</span>
<span>         data <span class="op">=</span> <span class="va">data_augmented</span>,</span>
<span>         xlab <span class="op">=</span> <span class="st">"Time (s)"</span>,</span>
<span>         ylab <span class="op">=</span> <span class="st">"V_translation"</span></span>
<span>         <span class="op">)</span></span></code></pre></div>
<p><img src="Analyse-Single-Trial_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="movement-stats">Compute movement statistics<a class="anchor" aria-label="anchor" href="#movement-stats"></a>
</h2>
<p>Finally, we can compute some summary statistics for this trial. There
are many possible measures that could be of interest, and we plan to
provide a package for these at a later point. For now, here are some
examples.</p>
<div class="section level3">
<h3 id="translational-movement">Translational movement<a class="anchor" aria-label="anchor" href="#translational-movement"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/tinytable/" class="external-link">tinytable</a></span><span class="op">)</span></span>
<span><span class="va">data_augmented</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># Only keep rows containing movement</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_translation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span>,</span>
<span>            v_translation_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">v_translation</span><span class="op">)</span>,</span>
<span>            v_translation_sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">v_translation</span><span class="op">)</span>,</span>
<span>            sinuosity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">distance</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">last</a></span><span class="op">(</span><span class="va">cum_x</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">last</a></span><span class="op">(</span><span class="va">cum_y</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span>
<span>            <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tinytable</span><span class="fu">::</span><span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<!-- preamble start -->

    <script>
      function styleCell_rrapy1m2305li10rw6b1(i, j, css_id) {
        var table = document.getElementById("tinytable_rrapy1m2305li10rw6b1");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_rrapy1m2305li10rw6b1');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_rrapy1m2305li10rw6b1(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_rrapy1m2305li10rw6b1");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_rrapy1m2305li10rw6b1(0, 0, 'tinytable_css_id9n8o98iosemua6rb2f7b') })
window.addEventListener('load', function () { styleCell_rrapy1m2305li10rw6b1(0, 1, 'tinytable_css_id9n8o98iosemua6rb2f7b') })
window.addEventListener('load', function () { styleCell_rrapy1m2305li10rw6b1(0, 2, 'tinytable_css_id9n8o98iosemua6rb2f7b') })
window.addEventListener('load', function () { styleCell_rrapy1m2305li10rw6b1(0, 3, 'tinytable_css_id9n8o98iosemua6rb2f7b') })
    </script><style>
    .table td.tinytable_css_id9n8o98iosemua6rb2f7b, .table th.tinytable_css_id9n8o98iosemua6rb2f7b {  border-bottom: solid 0.1em #d3d8dc; }
    </style>
<div class="container">
      <table class="table table table-borderless" id="tinytable_rrapy1m2305li10rw6b1" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">total_translation</th>
                <th scope="col">v_translation_mean</th>
                <th scope="col">v_translation_sd</th>
                <th scope="col">sinuosity</th>
              </tr></thead>
<tbody><tr>
<td>176.4487</td>
                  <td>0.9455143</td>
                  <td>0.5867149</td>
                  <td>0.002724747</td>
                </tr></tbody>
</table>
</div>
<!-- hack to avoid NA insertion in last line -->
</div>
<div class="section level3">
<h3 id="rotational-movement">Rotational movement<a class="anchor" aria-label="anchor" href="#rotational-movement"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_augmented</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">v_rotation</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_rotation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">rotation</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>            v_rotation_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">v_rotation</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tinytable</span><span class="fu">::</span><span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<!-- preamble start -->

    <script>
      function styleCell_fzwsoxmcup2gwkhqnxj4(i, j, css_id) {
        var table = document.getElementById("tinytable_fzwsoxmcup2gwkhqnxj4");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_fzwsoxmcup2gwkhqnxj4');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_fzwsoxmcup2gwkhqnxj4(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_fzwsoxmcup2gwkhqnxj4");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_fzwsoxmcup2gwkhqnxj4(0, 0, 'tinytable_css_idrp18b5x1wg0rwyfubc70') })
window.addEventListener('load', function () { styleCell_fzwsoxmcup2gwkhqnxj4(0, 1, 'tinytable_css_idrp18b5x1wg0rwyfubc70') })
    </script><style>
    .table td.tinytable_css_idrp18b5x1wg0rwyfubc70, .table th.tinytable_css_idrp18b5x1wg0rwyfubc70 {  border-bottom: solid 0.1em #d3d8dc; }
    </style>
<div class="container">
      <table class="table table table-borderless" id="tinytable_fzwsoxmcup2gwkhqnxj4" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">total_rotation</th>
                <th scope="col">v_rotation_mean</th>
              </tr></thead>
<tbody><tr>
<td>102.6916</td>
                  <td>1.037114</td>
                </tr></tbody>
</table>
</div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mikkel Roald-Arbøl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
