[{"path":"http://www.roald-arboel.com/trackballr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 trackballr authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"workflow","dir":"Articles","previous_headings":"","what":"Workflow","title":"Analyse single trial","text":"Working trackball data simple, generally follows principles movement data sets (e.g. pose estimation, centroid tracking): Read data Clean data Compute kinematics Visualise kinematics Compute movement statistics","code":""},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"read-data","dir":"Articles","previous_headings":"","what":"Read data","title":"Analyse single trial","text":"primary functionality {trackballr} package read trackball data. read_trackball_data function requires two file paths one sensor. can find pairs variations list.files() loops. ’ve included two files example data package experiment used free configuration: two paths, can read data. Let’s look data. see x y column, one reading per sensor. Since sensors capture data exact moments, trackballr finds best alignment observations retains time stamps sensors two formats (recommend just using one time stamps analysis, ’s good idea check closely frames align).","code":"library(trackballr) #>  #> Attaching package: 'trackballr' #> The following object is masked from 'package:base': #>  #>     mode system.file(\"extdata\", package = \"trackballr\") |> list.files() #> [1] \"opticalflow_sensor_1.csv\" \"opticalflow_sensor_2.csv\" filepaths <- system.file(\"extdata\", package = \"trackballr\") |> list.files(full.names = TRUE) data <- read_trackball_data(filepaths, configuration = \"free\") #> New names: #> • `0` -> `0...1` #> • `0` -> `0...2` #> • `0` -> `0...5` library(dplyr, warn.conflicts = FALSE) glimpse(data) #> Rows: 36,556 #> Columns: 6 #> $ x          <dbl> 0, 2, 3, 1, 0, 1, 5, 4, 6, 8, 10, 6, 6, 7, 5, 4, 4, 7, 10, … #> $ y          <dbl> 6, 5, 6, 2, 0, 7, 15, 0, 23, 28, 19, 15, 6, 8, 5, 4, 1, 2, … #> $ time_x     <dbl> 1684527395, 1684544035, 1684560675, 1684577315, 1684593955,… #> $ time_y     <dbl> 1681034035, 1681050675, 1681067315, 1681083955, 1681100595,… #> $ datetime_x <dttm> 2023-09-14 14:37:55, 2023-09-14 14:37:56, 2023-09-14 14:37… #> $ datetime_y <dttm> 2023-09-14 14:37:55, 2023-09-14 14:37:55, 2023-09-14 14:37…"},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"data-cleaning","dir":"Articles","previous_headings":"","what":"Data cleaning","title":"Analyse single trial","text":"current implementation, assume sensors reliable (missing observations), need impute missing values. Normally, also smooth data step, current implementation happens next step computed position 2D space.","code":""},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"compute-kinematics","dir":"Articles","previous_headings":"","what":"Compute kinematics","title":"Analyse single trial","text":"work movement data, often interested just animal ; ’re interested fast moves, heading etc. augment_trackball computes range kinematic variables: cum_x/cum_y: Cumulative position 2D space (“” map) distance: distance animal moved since last observation (simply calculated using Pythagoras’ theorem) v_translation: translational velocity, like see speedometer car. direction: direction (radians) animal heading - arrow compas heading. rotation: amount (radians) animal rotated since last observation. v_rotation: rotational velocity (rad/s).","code":"# Augment all data in list data_augmented <- augment_trackball(     data,      x,      y,      sampling_rate = 60,     rollmean_k = 30,     mouse_dpcm = 394     ) glimpse(data_augmented) #> Rows: 36,556 #> Columns: 15 #> $ x             <dbl> 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.0000… #> $ y             <dbl> 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.0000… #> $ time_x        <dbl> 1684527395, 1684544035, 1684560675, 1684577315, 16845939… #> $ time_y        <dbl> 1681034035, 1681050675, 1681067315, 1681083955, 16811005… #> $ datetime_x    <dttm> 2023-09-14 14:37:55, 2023-09-14 14:37:56, 2023-09-14 14… #> $ datetime_y    <dttm> 2023-09-14 14:37:55, 2023-09-14 14:37:55, 2023-09-14 14… #> $ row           <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1… #> $ time          <dbl> 0.01666667, 0.03333333, 0.05000000, 0.06666667, 0.083333… #> $ cum_x         <dbl> 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.0000… #> $ cum_y         <dbl> 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.… #> $ distance      <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ v_translation <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ direction     <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ rotation      <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, … #> $ v_rotation    <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …"},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"visualise","dir":"Articles","previous_headings":"","what":"Visualise kinematics","title":"Analyse single trial","text":"can now visualise movements kinematics. Let’s first look path.  translational velocity:","code":"library(tinyplot) tinyplot(cum_x ~ cum_y,           type = \"l\",          data = data_augmented,          xlab = \"x\",          ylab = \"y\"          ) tinyplot(v_translation ~ time,           type = \"l\",          data = data_augmented,          xlab = \"Time (s)\",          ylab = \"V_translation\"          )"},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"movement-stats","dir":"Articles","previous_headings":"","what":"Compute movement statistics","title":"Analyse single trial","text":"Finally, can compute summary statistics trial. many possible measures interest, plan provide package later point. now, examples.","code":""},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"translational-movement","dir":"Articles","previous_headings":"Compute movement statistics","what":"Translational movement","title":"Analyse single trial","text":"","code":"library(tinytable) data_augmented |>    filter(abs(x) > 0 | abs(y) > 0) |> # Only keep rows containing movement   summarise(total_translation = sum(distance),             v_translation_mean = mean(v_translation),             v_translation_sd = sd(v_translation),             sinuosity = sum(distance)/sqrt(last(cum_x)^2 + last(cum_y)^2)             ) |>    tinytable::tt()"},{"path":"http://www.roald-arboel.com/trackballr/articles/Analyse-Single-Trial.html","id":"rotational-movement","dir":"Articles","previous_headings":"Compute movement statistics","what":"Rotational movement","title":"Analyse single trial","text":"","code":"data_augmented |>    na.omit() |>   filter(v_rotation > 0) |>   summarise(total_rotation = sum(rotation, na.rm = TRUE),             v_rotation_mean = mean(v_rotation, na.rm = TRUE)) |>    tinytable::tt()"},{"path":"http://www.roald-arboel.com/trackballr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mikkel Roald-Arbøl. Author, maintainer.","code":""},{"path":"http://www.roald-arboel.com/trackballr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Roald-Arbøl M (2024). “trackballr: Read trackball files.” doi:10.5281/zenodo.13235278, http://www.roald-arboel.com/trackballr/.","code":"@Misc{roaldarbol:2024,   title = {trackballr: Read trackball files},   author = {Mikkel Roald-Arbøl},   year = {2024},   doi = {10.5281/zenodo.13235278},   url = {http://www.roald-arboel.com/trackballr/},   abstract = {Read trackball data into a standard format},   version = {0.1.1}, }"},{"path":"http://www.roald-arboel.com/trackballr/index.html","id":"trackballr","dir":"","previous_headings":"","what":"R package for reading trackball data into a standard format","title":"R package for reading trackball data into a standard format","text":"Run trackball! Trackball experiments, animals tethered/restrained atop (commonly) styrofoam ball … primary goal trackballr package make analysis trackball data easy standardise data format.","code":""},{"path":"http://www.roald-arboel.com/trackballr/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R package for reading trackball data into a standard format","text":"can install development version trackballr : installed package, can load :","code":"library(\"trackballr\")"},{"path":"http://www.roald-arboel.com/trackballr/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"R package for reading trackball data into a standard format","text":"worked examples use package, see vignettes: Analyse single trial","code":""},{"path":"http://www.roald-arboel.com/trackballr/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"R package for reading trackball data into a standard format","text":"cite trackballr publications use:","code":"citation(\"trackballr\") #> To cite package 'trackballr' in publications use: #>  #>   Roald-Arbøl M (2024). \"trackballr: Read trackball files.\" #>   doi:10.5281/zenodo.13235278 #>   <https://doi.org/10.5281/zenodo.13235278>, #>   <http://www.roald-arboel.com/trackballr/>. #>  #> A BibTeX entry for LaTeX users is #>  #>   @Misc{roaldarbol:2024, #>     title = {trackballr: Read trackball files}, #>     author = {Mikkel Roald-Arbøl}, #>     year = {2024}, #>     doi = {10.5281/zenodo.13235278}, #>     url = {http://www.roald-arboel.com/trackballr/}, #>     abstract = {Read trackball data into a standard format}, #>     version = {0.1.1}, #>   }"},{"path":"http://www.roald-arboel.com/trackballr/reference/augment_trackball.html","id":null,"dir":"Reference","previous_headings":"","what":"Augment Trackball Data — augment_trackball","title":"Augment Trackball Data — augment_trackball","text":"Augment Trackball Data","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/augment_trackball.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Augment Trackball Data — augment_trackball","text":"","code":"augment_trackball(   data,   x,   y,   time = NULL,   sampling_rate = 60,   rollmean_k = 30,   mouse_dpcm = 394 )"},{"path":"http://www.roald-arboel.com/trackballr/reference/augment_trackball.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Augment Trackball Data — augment_trackball","text":"data Data frame x Y-data first sensor. y Y-data second sensor. time variable contains time. column includes time, use sampling_rate. sampling_rate Sampling rate sensors. rollmean_k Parameter smoothing filter. mouse_dpcm \"Dots-per-cm\" - little movement mouse can detect.","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/augment_trackball.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Augment Trackball Data — augment_trackball","text":"augmented data frame","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/mode.html","id":null,"dir":"Reference","previous_headings":"","what":"Mode — mode","title":"Mode — mode","text":"statistics, mode value appears often set data values.","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/mode.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mode — mode","text":"","code":"mode(x)"},{"path":"http://www.roald-arboel.com/trackballr/reference/mode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mode — mode","text":"x vector numbers","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/mode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mode — mode","text":"vector frequently occuring value(s)","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/mode.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mode — mode","text":"","code":"my_vector <- c(1,2,3,3,4,5) mode(my_vector) #> [1] 3"},{"path":"http://www.roald-arboel.com/trackballr/reference/read_trackball_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Trackball Data — read_trackball_data","title":"Read Trackball Data — read_trackball_data","text":"Read Trackball Data","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/read_trackball_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Trackball Data — read_trackball_data","text":"","code":"read_trackball_data(filepaths, configuration = c(\"free\", \"fixed\"))"},{"path":"http://www.roald-arboel.com/trackballr/reference/read_trackball_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Trackball Data — read_trackball_data","text":"filepaths file paths, one sensor configuration Open- closed-loop configuration","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/read_trackball_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Trackball Data — read_trackball_data","text":"list data frames","code":""},{"path":"http://www.roald-arboel.com/trackballr/reference/trackballr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"trackballr: R package for reading trackball data into a standard format — trackballr-package","title":"trackballr: R package for reading trackball data into a standard format — trackballr-package","text":"R package reading trackball data standard format.","code":""},{"path":[]},{"path":"http://www.roald-arboel.com/trackballr/reference/trackballr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"trackballr: R package for reading trackball data into a standard format — trackballr-package","text":"Maintainer: Mikkel Roald-Arbøl trackballr.htmc8@passmail.net (ORCID)","code":""},{"path":"http://www.roald-arboel.com/trackballr/news/index.html","id":"trackballr-012","dir":"Changelog","previous_headings":"","what":"trackballr 0.1.2","title":"trackballr 0.1.2","text":"Added tests read_trackball_data format deprecated parameter read_trackball_data","code":""},{"path":"http://www.roald-arboel.com/trackballr/news/index.html","id":"trackballr-011","dir":"Changelog","previous_headings":"","what":"trackballr 0.1.1","title":"trackballr 0.1.1","text":"Added sample data Using sample data README EXAMPLE. Changed configuration read_trackball_data fixed/free.","code":""},{"path":"http://www.roald-arboel.com/trackballr/news/index.html","id":"trackballr-010","dir":"Changelog","previous_headings":"","what":"trackballr 0.1.0","title":"trackballr 0.1.0","text":"Initial upload Github.","code":""}]
